# Täsmäkielet(Domain-Specific languages)

Kuunnellessasi minkä tahansa alan asinatuntijoita, olivat he shakin pelaajia, päiväkodin opettajia tai vakuutusasiamiehiä, huomaat heidän sanastonsa poikkeavan arkikielestä. Täsmäkielissä on kyse siitä: Täsmäkielessä on erikoistunut sanasto kuvaamaan tietyn alan asioita.

Ohjelmiston maailmassa tästmäkielet ovat suoritettavia lausekkeita, tietylle alalle, rajatulla sanastolla ja kieliopilla, jota alan asiantuntijat kykenevät lukemaan, ymmärtämään ja toivottavasti kirjoitamaan. Kehittäjille ja tutkijoille on jo pitkään ollut täsmäkieliä. Esimerkiksi Unixin 'pienet kielet', jotka löytyvät konfiguraatiotiedostoista ja LISP-makroilla luodut kielet ovat vanhimpia esimerkkejä.

Täsmäkielet yleensä luokitellaan *sisäisiin* ja *ulkoisiin*:

- **Sisäiset täsmäkielet** on kirjoitettu yleiskäyttöisellä ohjelmointikielellä, jonka syntaksia on mukautettu näyttämään enemmän luonnolliselta kieleltä. Tämä on helpompaa kielillä, jotka tarjoavat enemmän syntaktista sokeria ja muotoilun mahdollisuksia (esim. Ruby ja Scala) kuin joillain toisilla (esim. Java). Suurin osa sisäisistä täsmäkielistä käärii(wrap) olemassaolevat APIt, kirjastot ja liiketoimintakoodin(business code) ja tarjoaa kääreen helpommin ymmärrettävän pääsyn toiminnallisuuksiin. Täsmäkielien lausekkeita voidaan ajaa. Toteutuksesta ja alasta riippuen, niillä voidaan luoda tietorakenteita, määrittää riippuvuuksia, suorittaa prosesseja ja tehtäviä, kommunikoida muiden järjestelmien kanssa ja vahvistaa käyttäjän syötteitä. Sisäisten täsmäkielien syntaksia rajoittaa isäntäkieli (host language). On olemassa monia malleja(pattern) - esim. lausekkeiden rakentaja, metodien ketjuttaminen, ja annotointi, jotka auttavat isäntäkielen muokkaamisessa tämsäkieleksi. Jos isäntäkiele ei vaadi uudelleenkääntämistä, sisäinen täsmäkieli voidaan kehittää melko nopeasti alan ammattilaisen avustuksella.

- **Ulkoiset täsmäkielet** ovat kielen teksti- tai graafisessa muodossa olevia lausekkeita - vaikka teksiin perustuvat täsmäkielet ovat yleisempiä kuin graafiset. Teksti-muodossa olevat lausekkeet voidaan käsitellä työkaluketjulla, joka sisältää lexerin, parserin, model transformerin, generaattorin ja minkä tahansa muun kaltaisen jälkikäsittelyn. Ulkoiset täsmäkielet luetaan pääosin sisäisistä malleista, mitkä muodostavat pohjan lisäkäsittelylle. Asiaa helpottaa kieliopin määrittely (esim. EBNF). Kielioppi tarjoaa lähtökohdan työkaluketjun osien luonnille (esim. editori, visualisoija, jäsentimen kehittäjä(parser generator). Yksinkertaisille täsmäkielille käsin tehty jäsennin saattaa riittää - esimerkiksi käyttäen säännöllisiä lausekkeita. Mukautetuista jäsentimistä voi tulla kömpelöitä(unwieldly) jos niiltä vaaditaan liikaa, joten kannattaa tutkia täsmäkielten ja kielioppien kanssa työskentelyyn tarkoitettuja työkaluja esim. openArchitectureWare, ANTlr, SableCC, AndroMDA. Ulkoisten täsmäkielien määrittely XML-murteilla on melko yleistä, vaikka luettavuus tulee ongelmaksi - erityisesti ei-teknisillä lukijoilla.

Sinun täytyy aina huomioida täsmäkielesi kohdeyleisö. Ovatko he kehittäjiä, johtajia, asiakkaita(business customer) vai loppukäyttäjiä? Sinun täytyy sopeuttaa kielen tekninen taso, saatavilla olevat työkalut, syntaksin apu(esim. intellisense), varhainen validointi, visualisointi ja esitystapa kohdeyleisölle. Piilottamalla tekniset yksityiskohdat, täsmäkielet auttavat käyttäjiä sopeuttamaan järjestelmiä heidän tarpeisiinsa tarvitsematta kehittäjien apua. Se voi myös nopeuttaa kehittämistä mahdollisesti jakamalla työtä kielen kehyksen luomisen jälkeen. Kieli voi kehittyä asteittain. On myös olemassa erilaisia muuttoreittejä(migration path) olemassaoleville lausekkeille ja kieliopeille.

Alkuperäinen kirjoittaja [Michael Hunger](http://programmer.97things.oreilly.com/wiki/index.php/Michael_Hunger)