# Vain Koodi Kertoo Totuuden

Ohjelman lopullisen semantiikan päättää käynnissä oleva koodi. Jos se on ainoastaan binäärimuodossa, sitä on hankala lukea! Lähdekoodin pitäisi, kuitenkin, olla saatavilla jos se on sinun ohjelmasi, minkä tahansa tyypillinen kaupalinen ohjelmisto, avoimen lähdekoodin projekti tai dynaamisesti tulkatulla kielellä tehty koodi. Lähdekoodia lukemalla, ohjelman merkityksen pitäisi olla selvä. Tietääksesi mitä ohjelma tekee, lähdekoodi on lopulta ainut, mitä katsoessasi voit olla varma, mitä katsot. Jopa kaikista tarkin vaatimusten dokumentti ei kerro koko totuutta: Se kerro tarkkaa tarinaa ohjelman varsinaisesta toiminnasta, ainoastaan vaatimusten laatijan korkean tason aikomukset. Suunnitteludokumentti saattaa halutun suunnitelman, mutta siitä puuttuu toteutuksen sisältämät tarpeekkiset yksityiskohdat. Nämä dokumentit eivät välttämättä ole ajan tasalla nykyisen toteutuksen kanssa... tai ne ovat yksinkertaisesti kadonneet. Tai niitä ei kirjoitettu alun alkaenkaan. Lähdekoodit saattaa olla ainut jäljellä oleva asia.

Tämä mielessäpitäen, kysy itseltäsi, miten selkeästi sinun koodisi tai kenen tahansa muun ohjelmoijan koodi kertoo, mitä se tekee? Saatat sanoa "No, kommenttini kertovat kaiken tarvittavan." Mutta pidä mielessä, että kommentit eivät ole ajettavaa koodia. Ne voivat olla yhtä virheellisiä kuin muut dokumentaation muodot. On ollut tapana sanoa kommenttien olevan ehdoitta hyvä asia, joten sitä kyseenalaistamatta jotkut ohjelmoijat kirjoittavat enemmän ja enemmän kommentteja, jopa toistaen ja selostaen yksinkertaisia asioita koodista. Tämä on väärä tapa selventää koodiasi. Jos koodisi tarvitsee kommentteja, harkitse sen uudelleenmuotoilemista tehdäksesi kommenteista tarpeettomia. Pitkät kommentit voivat sotkea näyttötilaa ja IDE voi jopa piilottaa ne automaattisesti. Jos sinun tarvitsee selittää muutos, tee se versionhallinntaan viennin yhteydessä viestillä, äläkä koodissa.

Mitä voit todella tehdä, jotta koodisi kertoisi totuuden mahdollisimman selkeästi? Pyri hyvään nimeämiseen. Jäsennä koodisi toiminnallisuuden mukaan, mikä myös helpottaa nimeämistä. Pura koodisi kytkennät(decouple) saavuttaaksesi ortogonaalisuutta. Kirjoita automaattisia testejä selittämään haluttua käytöstä ja tarkastamaan rajapinnat. Uudelleenmuotoile armotta oppiessasi ohjelmoimaan yksinkertaisemman ja paremman ratkaisun. Tee koodistasi mahdollisimman yksinkertaista lukea ja ymmärtää.

kohtele koodiasi kuin mitä tahansa kirjoitelmaa, kuten runoa, esseetä, julkista blogia tai tärkeää sähköpostia. Muotoile ilmaisemasi asia harkiten, jotta se tekee mitä pitäisi ja kuvaa mahdollisimman tarkasti mitä se tekee, jotta se silti kommunikoisi aikomuksesi, kun et enää ole paikalla. Muista hyödyllisen koodin olevan paljon pidempään käytössä, kuin oli alun perin tarkoitus. Ohjelman ylläpitäjät tulevat kiittämään sinua. Ja sinä olet ylläpidät ohjelmaa ja työstämäsi koodi ei kerro helposti mitä se tekee, käytä yllä olevia ohjeita proaktiivisesti. Asetan koodiin hieman järkeä ja säilytä oma järkesi.

Kirjoittanut [Peter Sommerlad](http://programmer.97things.oreilly.com/wiki/index.php/Peter_Sommerlad)