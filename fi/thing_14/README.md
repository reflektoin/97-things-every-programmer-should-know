# Koodin Katselmointi

Sinun pitäisi tehdä koodin katselmointeja. Miksi? Koska ne *parantavat koodin laatua* ja *vähentävät vikojen määrää*. Mutta ei välttämättä luulemallasi tavalla.

Koska heillä saattaa olla huonoja kokemuksia katselmoinneista, monet ohjelmoijat eivät pidä katselmoinneista. Olen nähnyt organisaatioita, jotka vaativat kaiken koodin menevän virallisen katselmoinnin läpi ennen kuin sen voi laittaa tuotantoon. Usein arkkitehti tai lead developer tekevät katselmoinnin. Käytäntöä voidaan kuvata *arkkitehti katselmoi kaiken* tavaksi. Tämä kuvataan heidän ohjelmistokehitysprosessin manuaalissa joten kaikkien ohjelmoijien tulee noudattaa käytäntöä. Jotkut organisaatiot saattavat tarvita niin jäykän ja muodollisen prosessin, mutta suurin osa ei. Monissa organisaatioissa kyseinen tapa on haitallinen. Katselmoitavat voivat kokea itsensä tuomituiksi ehdonalaiskomitean(parole board) toimesta. Katselmoijat tarvitsevat aikaa sekä koodin lukemiseen, että ymmärtääkseen järjestelmän osat. Katselmoijista voi nopeasti tulla pullonkaula tässä prosessissa ja siten prosessi rappeutuu.

Koodin virheiden korjaamisen sijaan katselmoinnin tarkoitus pitäisi olla *tiedon jakaminen* ja yhteisten koodauskäytäntöjen(coding guidelines) luominen. Koodisi jakaminen muiden ohjelmoijien kanssa mahdollistaa kollektiivisen koodin omistamisen(collective code ownership).  Anna satunnaisen tiimin jäsenen *käydä koodi läpi* muun tiimin kanssa. Virheiden etsimisen sijaan sinun pitäisi käytä koodi läpi ja yrittää oppida ja ymmärtää sitä.

Ole kiltti katselmoinnissa. Varmista, että kommentit ovat *rakentavia, eikä purevia*(caustic). Esittele eri *katselmointirooleja* katselmointipalaverissa välttääksesi organisaation senioriteetin vaikutuksen katselmointiin. Esimerkiksi yksi katselmoija voi keskittyä dokumentaatioon, toinen poikkeuksiin ja kolmas toiminnallisuuteen. Tämä lähestymistapa auttaa levittämään katselmoinnin taakkaa tiimin kesken.

Pidä säännöllinen *koodin katselmointi* päivä joka viikko. Käytä muutama tunti katselmointipalaveriin. Vaihda katselmoitavaa joka palaverissa, että kaikki tekevät kaikkea(round-robin pattern).  Muista vaihtaa rooleja tiimin jäsenten kesken jokaisessa palaverissa. *Ota aloittelijat* mukaan koodin katselmointiin. He saattavat olla kokemattomia, mutta heidän tuore ylipistotietämys voi tuoda erilaisia näkökulmia. *Sisällytä asiantuntijat* heidän kokemuksien ja tietämyksen takia. He huomaavat mahdollisen virheen koodissa nopeammin ja suuremmalla tarkkuudella. Katselmoinnit sujuvat helpommin jos tiimillä on *koodaus käytännöt*, jotka työkalu tarkastaa. Sillä tavoin koodin muotoilu ei koskaan nouse keskustelunaiheeksi katselmoinnissa.

*Katselmoinnin tekeminen viihdyttäväksi* on ehkä tärkein menestyksen edistäjä. Katselmoinneissa on kyse katselmoivista henkilöistä. Jos katselmointipalaveri on tuskallinen tai tylsä, niin ketään on hankala motivoida. Tee siitä *vapaamuotoinen katselmointi*, minkä päätarkoitus on tiedon jako tiimin jäsenten kesken. Jätä sarkastiset kommentit pois ja tuo sen sijaan kakkua tai lounasta.

Alkuperäinen kirjoittaja [Mattias Karlsson](http://programmer.97things.oreilly.com/wiki/index.php/Mattias_Karlsson)