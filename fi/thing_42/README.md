# Pidä Koonti(build) Siistinä

Oletko koskaan katsonut huonosta ohjelmoinnista kertovan esseen pituista listaa kääntäjän varoituksia ja ajatellut itseksesi: "Tiedätkö, minun pitäisi tehdä asialle jotain... mutta minulle ei ole juuri nyt aikaa?" Toisaalta, oletko koskaan katsonut yksittäistä varoitusta, joka tuli kääntäessä ja korjasit sen heti?

Aloittaessani uutta projektia puhtaalta pöydältä ei ole varoituksia, sotkua tai ongelmia. Mutta koodikannan kasvaessa, mikäli et kiinnitä huomiota, sotku, roska, varoitukset ja ongelmat alkavat kertyä. Kun on paljon kohinaa, on hankalampi löytää varoitusta, jonka oikeasti haluan lukea niiden satojen joukosta, joista en välitä.

Jotta varoituksista tulee taas hyödyllisiä, yritän pitää nollatoleranssin koonnin aiheuttamista varoituksista. Vaikka varoitus olisi mitätön, käsittelen sen. Jos se ei ole kriittinen, mutta relevantti, korjaan sen. Jos kääntäjä varoittaa mahdollisesta null-viite -poikkeuksesta, korjaan aiheuttajan - vaikka "tietäisin", että ongelma ei koskaan ilmenisi tuotannossa. Jos sulautettu(embedded) dokumentaatio (Javadoc tai vastaava) viittaa poistettuihin tai uudelleen nimettyihin parametreihin, siivoan dokumentaation.

Jos varoitus on jokin mistä en välitä yhtään, eikä sillä oikeasti ole merkitystä, kysyn tiimiltä voimmeko muuttaa varoitus-politiikkaamme. Esimerkiksi, huomaan, että metodin parametrien ja palautusarvon dokumentointi ei useinkaan tuo lisäarvoa, joten niiden puute ei pitäisi aiheuttaa varoitusta. Tai ohjelmointikielen version päivittäminen voi saada aiemmin toimineen koodin aiheuttamaan varoituksia. Esimerkiksi, kun Java 5 esitteli geneeriset tyypit(generics), kaikki vanha koodi, joka ei määrittänyt geneeristä tyyppiparametriä olisi aiheuttanut varoituksen. Tämän kaltaisia varoituksia en halua(ainakaan vielä). Varoitukset, jotka ovat todellisuuden kanssa epätahdissa (out of step) ei palvele ketään.

Varmistamalla koonnin olevan aina siisti, sinun ei tarvitse päättää onko varoitus merkityksetön joka kerta kun kohtaat sen. Asioiden huomioimatta jättämäminen on henkistä työtä, ja minun täytyy poistaa kaikki tarpeeton henkinen työ, minkä pystyn. Puhdas koonti helpottaa myös henkilön työtä, joka jatkaa minun jälkeeni. Jos jätän varoituksia, jonkun täytyy käydä ne läpi arvioiden, mikä on tärkeää ja mikä ei. Tai todennäköisemmin sivuuttaa kaikki varoituksen, mukaan lukien tärkeät.

Koonnin varoitukset ovat hyödyllisiä. Sinun vain täytyy päästä eroon kohinasta huomataksesi ne. Älä odota isoon siivoukseen asti. Kun jotain ilmenee, mitä et halua nähdä, käsittele se välittömästi. Korjaa joko varoituksen aiheuttaja, estä varoitus tai korjaa työkalusi varoituspolitiikka. Koonnin pitäminen siistinä ei tarkoita vain kääntämisen virheitä tai testien epäonnistumisia: Varoitukset ovat myös tärkeitä ja kriittinen osa koodin hygieniaa.

Alkuperäinen kirjoittaja By [Johannes Brodwall](http://programmer.97things.oreilly.com/wiki/index.php/Johannes_Brodwall)