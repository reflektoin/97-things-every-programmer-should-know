# Koodin Asettelulla On Merkitystä

Mahdottoman monta vuotta sitten työskentelin Cobol järjestelmän kanssa, jossa työntekijät eivät saaneet muuttaa sisennyksiä ellei heillä ollut muuta syytä muuttaa koodia, koska joku oli kerran rikkonut jotain päästämällä rivin lipsahtaa yhteen erikoissarakkeista rivin alussa. Näin kävi vaikka asettelu oli harhaanjohtava, mitä se joskus oli, joten meidän piti lukea koodia erittäin tarkasti koska emme voineet luottaa siihen. Käytäntö varmaan maksoi omaisuuden ohjelmoinnin hidastamisen takia.

Joissain tutkimuksissa näytetään, että käytämme ohjelmoidessa aikaa navigointiin ja koodin lukemiseen - löytääksemme *mihin* muutos pitää tehdä - kuin itse kirjoittamiseen, joten haluamme optimoida sitä varten.

- *Helppo selata.* Ihmiset ovat erittäin hyviä havaitsemaan visuaalisia kaavoja(visual pattern matching) (jäänne ajalta, jolloin meidän piti havaita leijonia savannilla), joten voin auttaa itseäni muuttamalla kaiken, mikä ei liity suoraan toimialueeseen, kaikki "tahattoman monimutkaisuuden" joka tulee kaupallisten kielten(commercial languages) mukana, häivyttämällä sen taustalle standardisoimalla sen. Jos koodi joka näyttää samalta käyttäytyy samalla tavalla, niin aistijärjestelmäni auttaa minua huomaamaan erot. Siksi seuraan myös käytäntöjä luokan osien asetteluun kääntöyksikön (compilation unit) sisällä: vakiot, kentät, julkiset metodit, yksityiset metodit.

- *Ilmaisuvoimainen asettelu.* Olemme kaikki oppineet keksimään kuvaavat nimet, jotta koodimme ilmaisee mahdollisimman selkeästi mitä se tekee, kuin vain luettememalla vaiheet - eikö vain? Koodin asettelu on osa tätä imlaisuvoimaa. Ensimmäinen vaihe on saada tiimi päättämään automaattinen muotoilija perusteille, sitten saattaisin hienosäätää käsin koodatessani. Ellei ole aktiivista erimielisyyttä, tiimi voi nopeasti lähentyä yleiseen "käsin viimeisteltyyn" tyyliin. Muotoilija ei voi ymmärtää aikomuksiani (minun pitäisi tietää, kirjoitin kerran yhden muotoilijan), ja minulle on paljon tärkeämpää että rivinvaihdot ja ryhmittelyt kuvastavat koodin aikeita, eikä vain koodin syntaksia. (Kevin McGuire vapautti minut automaattisten muotoilijoiden kahleista.)

- *Kompakti muoto.* Mitä enemmän näytölleni mahtuu, sitä enemmän näen rikkomatta kontekstia skrollaamalla tai vaihtamalla tiedostoja, mikä tarkoittaa että voin pitää vähemmän tilaa päässäni. Pitkät proseduurin kommentit ja paljon tyhjään tilaa kävi järkeen kahdeksan merkin nimille ja rivien tulostimille(line printers), mutta nyt voin elää IDE:ssä joka värittää syntaksin mukaan ja ristiviittauksia(cross linking). Pixelit ovat rajoittava tekijäni, joten haluan jokaisen niistä edesauttavan koodin ymmärtämistä. Haluan asettelun auttavan minua ymmärtämään koodia, mutta ei sen enempää.

Ei ohjemloiva ystäväni kerran sanoi, että koodi näyttää runoudelta. Saan sen tunteen erittäin hyvästä koodista, jossa kaikella tekstillä on tarkoituksensa ja on siellä auttamassa minua idean ymmärtämisessä. Valitettavasti koodin kirjoittamisesta ei tule samanlaista romanttista mielikuvaa kuin runouden kirjoittamisesta.

Alkuperäinen kirjoittaja [Steve Freeman](http://programmer.97things.oreilly.com/wiki/index.php/Steve_Freeman)
